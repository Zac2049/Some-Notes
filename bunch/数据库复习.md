## 数据库复习

1. 数据库的三级模式是什么

   1. 概念模式

      是数据库中全部数据的逻辑结构和特征的描述。

   2. 外模式

      是用户与数据库系统的接口，是用户用到的那部分数据的描述。

   3. 内模式

      是数据物理结构和存储方式的描述，是数据在数据库内部的表示方式。

3. 数据库null值是什么

   NULL：就是什么都没有，连\0都没有，\0在字符串中是结束符，但是在物理内存是占空间的，等于一个字节，而NULL就是连这一个字节都没有。

   空 (NULL) 值：表示数值未知。空值不同于空白或零值。

3. 关系模型是什么

   用关系（二维表结构）表示实体集以及实体集之间的联系的数据模型

4. 关系和关系模式是什么

   笛卡尔积D1×D2×…×Dn的子集叫作在域D1，D2，…，Dn上的关系

   在数据库学科中可以把关系模式理解为表的结构、属性之间的约束条件，把关系理解为二维表

   - 关系模式
     对关系的描述
     静态的、稳定的
   - 关系
     关系模式在某一时刻的状态或内容
     动态的、随时间不断变化的

5. 数据库建表流程

   CREATE TABLE <表名>(

   ​		<列名> <数据类型>[ <列级完整性约束条件> ]      

   ​		[，<列名> <数据类型>[ <列级完整性约束条件>] ]       

   ​		………      

   ​		[，<表级完整性约束条件> ]

    );

6. E-R图转换为关系模型原则（实体关系）

   实体 矩形，属性 椭圆，联系 菱形。联系本身也是一种实体型，也可以有属性。

   一般一对一，一对多联系不产生新的关系模式，而是将一方实体的码加入到多方实体对应的关系模式中，联系的属性也一并加入。

   多对多联系要产生一个新的关系模式，该关系模式由联系涉及实体的码加上联系的属性（若有）组成。

   1. 一个1:1联系，在两个实体任选一个添加另一个实体的主键即可。

   2. 一个1:n联系，在多端添加另一端的主键。

   3. 对m:n联系，我们需要将联系转换为实体，然后在该实体上加上另外两个实体的主键，作为联系实体的主键，然后再加上该联系自身带的属性即可。

7. 解释主键和外键

   候选码（Candidate key）若关系中的某一属性组的值能唯一地标识一个元组，则称该属性组为候选码

   主键：唯一标识一条记录，不能有重复的，不允许为空。用来保证数据完整性

   外键：表的外键是另一表的主键, 外键可以有重复的, 可以是空值，用来和其他表建立联系用的。

   索引：索引就一种特殊的查询表，数据库的搜索可以利用它加速对数据的检索。

8. 数据库规范化

   1NF 属性不可分，即确保每列原子性。

   2NF 在满足第一范式的前提下，其他列都必须完全依赖于主键列。每个非主属性完全函数依赖于键码。

   3NF 在满足第二范式的前提下，除了主键列之外，其他列之间不能有传递依赖关系。非主属性不传递函数依赖于键码。

   BCNF 任何非主属性不能对主键子集依赖（在3NF基础上消除对主码子集的依赖）。满足巴斯-科德范式（BCNF）必须满足第三范式（3NF）。

9. 事务

   事务指的是满足 ACID 特性的一组操作，可以通过 Commit 提交一个事务，也可以使用 Rollback 进行回滚。

   - A 原子性：事务是最小的单位，不可以再分割；
   - C 一致性：要求同一事务中的 SQL 语句，必须保证全部完成或者全部不完成，不能停滞在中间环节；
   - I 隔离性：同一时间仅有一个请求用于同一数据。
   - D 持久性：事务一旦结束 ( `COMMIT` ) ，就不可以再回滚了 ( `ROLLBACK` ) 。

10. 触发器

    触发器（Trigger）是用户定义在关系表上的一类由事件驱动的特殊过程，由服务器自动激活

11. 什么是存储过程？用什么来调用？

    存储过程是一个预编译的SQL语句，优点是允许模块化的设计，就是说只需创建一次，以后在该程序中就可以调用多次。如果某次操作需要执行多次SQL，使用存储过程比单纯SQL语句执行要快。 调用： 1）可以用一个命令对象来调用存储过程。 2）可以供外部程序调用，比如：java程序

12. 什么叫视图？游标是什么？

    视图：是一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，试图通常是有一个表或者多个表的行或列的子集

    游标：是对查询出来的结果集作为一个单元来有效的处理。游标可以定在该单元中的特定行，从结果集的当前行检索一行或多行

13. 列举几种表连接方式,有什么区别？

    内连接、外连接（左、右、全）、交叉连接

    内连接：只有两个元素表相匹配的才能在结果集中显示

    外连接： 左外连接：关键字从左表（table1）返回所有的行，即使右表（table2）中没有匹配。如果右表中没有匹配，则结果为 NULL。 右外连接：关键字从右表（table2）返回所有的行，即使左表（table1）中没有匹配。如果左表中没有匹配，则结果为 NULL。全外连接：关键字只要左表（table1）和右表（table2）其中一个表中存在匹配，则返回行。结合了 LEFT JOIN 和 RIGHT JOIN 的结果

    交叉连接： 笛卡尔效应，显示的结果是链接表数的乘积

14. 嵌套查询

    - 一个SELECT-FROM-WHERE语句称为一个查询块
    - 将一个查询块嵌套在另一个查询块的WHERE子句或HAVING短语的条件中的查询称为嵌套查询
    
15. 关系数据库与非关系数据库的区别

    关系型数据库最典型的数据结构是表，由二维表及其之间的联系所组成的一个数据组织。

    非关系型数据库严格上不是一种数据库，应该是一种数据结构化存储方法的集合，可以是文档或者键值对等。
    
16. 索引的作用？和它的优点缺点是什么？

    索引就一种特殊的查询表，数据库的搜索可以利用它加速对数据的检索。索引可以是唯一的，创建索引允许指定单个列或者是多个列。缺点是它减慢了数据录入的速度，同时也增加了数据库的尺寸大小。

17. 什么样的字段适合建索引

    唯一、不为空、经常被查询的字段。
